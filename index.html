<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bioética e Clonagem</title>
    <!-- Adiciona o Tailwind CSS para o estilo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Adiciona a biblioteca three.js para a animação 3D -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700;800;900&family=Lato:wght@400;500;600&display=swap');
        
        :root {
            --purple-500: #8A2BE2;
            --pink-500: #E91E63;
            --green-500: #4CAF50;
            --red-500: #F44336;
        }

        body {
            font-family: 'Lato', sans-serif;
            overflow-x: hidden;
            background-color: #0c0a09; /* Cor de fundo principal */
        }
        .font-poppins {
            font-family: 'Poppins', sans-serif;
        }
        .font-lato {
            font-family: 'Lato', sans-serif;
        }
        
        .ios-card {
            background-color: rgba(255, 255, 255, 0.08); /* Fundo semi-transparente */
            backdrop-filter: blur(25px); /* Efeito de vidro fosco aprimorado */
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            overflow: hidden;
        }
        .ios-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 30px var(--purple-500);
        }
        
        /* Novas Animações */
        @keyframes fadeIn-stagger {
            from { opacity: 0; transform: translateY(30px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .fade-in-stagger {
            animation: fadeIn-stagger 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        
        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .slide-down-anim {
            animation: slideDown 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) 0.5s forwards; /* Atraso de 0.5s */
        }
        
        /* Animação para a mensagem de entrada pulsante */
        @keyframes pulse-fade {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.02); }
        }
        
        #loading-message {
            animation: pulse-fade 2s infinite ease-in-out;
        }
        
        /* Estilos do Quiz (Modo Interativo) */
        .quiz-option {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            position: relative;
        }
        .quiz-option:hover:not(.correct, .incorrect) {
            transform: scale(1.03);
            border-color: var(--purple-500);
            background-color: rgba(138, 43, 226, 0.1);
        }
        .quiz-option.correct {
            background-color: rgba(76, 175, 80, 0.2);
            border-color: var(--green-500);
            transform: scale(1.03);
        }
        .quiz-option.incorrect {
            background-color: rgba(244, 67, 54, 0.2);
            border-color: var(--red-500);
            transform: scale(1.03);
        }
        
        /* Estilos do Modal (genéricos) */
        .modal-hidden { display: none; }
        .modal-visible { display: flex; }
        
        /* Efeito de brilho para botões do Header */
        .nav-button::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 9999px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 70%);
            transform: scale(0);
            transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            opacity: 0;
        }
        .nav-button:hover::after {
            transform: scale(1.5);
            opacity: 1;
        }
        .nav-button:hover {
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
        }

        /* Animações de transição para o Quiz */
        .quiz-view {
            transition: opacity 0.4s, transform 0.4s;
        }
        .quiz-view.hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
            position: absolute;
        }

        /* Estilos específicos para o Modal de Slides */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--purple-500);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-950 text-gray-200">

    <!-- Container para o fundo 3D -->
    <div id="3d-background" class="fixed inset-0 z-0">
        <canvas id="main-3d-canvas" class="w-full h-full"></canvas>
    </div>

    <!-- Tela de pré-carregamento inicial -->
    <div id="loading-screen" class="fixed inset-0 flex flex-col justify-center items-center z-50 transition-opacity duration-1000 bg-gray-950">
        <h1 class="text-7xl md:text-8xl font-extrabold font-poppins tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-600 drop-shadow-2xl mb-12">
            CYBER ÉTICA
        </h1>
        <div id="loading-message" class="text-xl md:text-2xl text-gray-300 flex items-center gap-3 p-3 rounded-full bg-gray-800/50 backdrop-blur-sm cursor-pointer border border-purple-500/50 hover:bg-gray-700/70">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-pink-400"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
            <span class="font-poppins font-semibold">Clique ou pressione uma tecla</span>
        </div>
    </div>

    <!-- Conteúdo principal -->
    <div id="main-content" class="opacity-0 pointer-events-none transition-opacity duration-1000">
        
        <!-- Header com MENU REFINADO -->
        <header id="main-header" class="sticky top-0 z-50 py-4 px-4 bg-gray-950/70 backdrop-blur-xl border-b border-gray-800/50 shadow-lg opacity-0">
            <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
                <h1 class="text-3xl sm:text-4xl font-extrabold font-poppins tracking-wide bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-pink-500 drop-shadow-lg mb-4 sm:mb-0">Bioética & Clonagem</h1>
                
                <nav class="flex items-center space-x-2 p-1.5 rounded-full bg-gray-800/50 border border-gray-700/50">
                    <a href="#intro" class="nav-button group relative flex items-center justify-center gap-2 text-gray-300 hover:text-white transition-all duration-300 px-4 py-2 rounded-full hover:bg-purple-600/30">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform group-hover:scale-110"><circle cx="12" cy="12" r="10"/><path d="m14.31 8.69 1.4-1.4a2 2 0 0 1 2.83 0l1.4 1.4a2 2 0 0 1 0 2.83l-1.4 1.4M8.69 14.31l-1.4 1.4a2 2 0 0 1-2.83 0l-1.4-1.4a2 2 0 0 1 0-2.83l1.4-1.4"/><line x1="12" x2="12" y1="2"/><line x1="12" x2="12" y1="22"/><line x1="2" x2="12" y1="12"/><line x1="22" x2="12" y1="12"/></svg>
                        <span class="font-lato hidden sm:inline">Introdução</span>
                    </a>
                    <button onclick="openSlidesModal()" class="nav-button group relative flex items-center justify-center gap-2 text-gray-300 hover:text-white transition-all duration-300 px-4 py-2 rounded-full hover:bg-purple-600/30">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform group-hover:scale-110"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>
                        <span class="font-lato hidden sm:inline">Slides</span>
                    </button>
                    <button onclick="openQuizModal()" class="nav-button group relative flex items-center justify-center gap-2 text-white font-bold transition-all duration-300 px-4 py-2 rounded-full bg-pink-600/80 hover:bg-pink-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform group-hover:scale-110"><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>
                        <span class="font-lato">Quiz</span>
                    </button>
                    <a href="#futuro" class="nav-button group relative flex items-center justify-center gap-2 text-gray-300 hover:text-white transition-all duration-300 px-4 py-2 rounded-full hover:bg-purple-600/30">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform group-hover:scale-110"><path d="M12 3c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5H12c-.8 0-1.5-.7-1.5-1.5V4.5c0-.8.7-1.5 1.5-1.5z"/><path d="M8.5 6.5c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5h-.01c-.8 0-1.5-.7-1.5-1.5V8c0-.8.7-1.5 1.5-1.5z"/><path d="M15.5 6.5c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5h-.01c-.8 0-1.5-.7-1.5-1.5V8c0-.8.7-1.5 1.5-1.5z"/><path d="M19 12c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5h-.01c-.8 0-1.5-.7-1.5-1.5V13.5c0-.8.7-1.5 1.5-1.5z"/><path d="M5 12c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5H5c-.8 0-1.5-.7-1.5-1.5V13.5c0-.8.7-1.5 1.5-1.5z"/><path d="M8.5 15.5c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5h-.01c-.8 0-1.5-.7-1.5-1.5V17c0-.8.7-1.5 1.5-1.5z"/><path d="M15.5 15.5c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5h-.01c-.8 0-1.5-.7-1.5-1.5V17c0-.8.7-1.5 1.5-1.5z"/><path d="M12 18c.8 0 1.5.7 1.5 1.5v.01c0 .8-.7 1.5-1.5 1.5H12c-.8 0-1.5-.7-1.5-1.5V19.5c0-.8.7-1.5 1.5-1.5z"/></svg>
                        <span class="font-lato hidden sm:inline">O Futuro</span>
                    </a>
                    <button onclick="document.getElementById('settings-modal').style.display='flex';" class="nav-button group relative flex items-center justify-center gap-1 text-gray-300 hover:text-white transition-all duration-300 px-3 py-2 rounded-full hover:bg-purple-600/30">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform group-hover:scale-110 group-hover:rotate-90"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                    </button>
                </nav>
            </div>
        </header>

        <!-- Modal de Configurações (Mantido) -->
        <div id="settings-modal" class="fixed inset-0 z-[60] hidden justify-center items-center bg-black/80 backdrop-blur-md">
            <div class="ios-card rounded-3xl p-8 shadow-2xl w-full max-w-lg mx-4">
                <h2 class="text-2xl font-bold font-poppins text-white mb-4">Configurações</h2>
                <p class="text-gray-400 mb-6 font-lato">As animações 3D estão pré-definidas para funcionar offline.</p>
                <div id="display-mode" class="space-y-6 bg-gray-800 p-6 rounded-2xl">
                    <h3 class="text-xl font-semibold font-poppins text-white mb-3">Modo de Exibição</h3>
                    <button id="fullscreen-button" onclick="toggleFullscreen()" class="w-full px-4 py-2 rounded-lg bg-purple-600 text-white font-semibold hover:bg-purple-700 transition-colors duration-200">
                        Entrar em Tela Cheia
                    </button>
                </div>
                <button onclick="document.getElementById('settings-modal').style.display='none';" class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white font-semibold hover:bg-gray-800 transition-colors duration-200 mt-8">
                    Fechar
                </button>
            </div>
        </div>

        <!-- Conteúdo principal -->
        <main class="container mx-auto p-6 md:p-8 space-y-24 relative z-10">
            <!-- Seções com animação escalonada -->
            <section id="intro" class="ios-card rounded-3xl p-8 shadow-2xl fade-in-stagger opacity-0" style="animation-delay: 0.2s;">
                <h2 class="text-4xl font-bold font-poppins text-white mb-4 drop-shadow-md">A Introdução à Bioética</h2>
                <p class="text-gray-300 leading-relaxed text-lg font-lato">A **bioética** é o estudo sistemático das dimensões morais e das decisões relacionadas à vida. Em sua essência, ela explora os dilemas éticos que surgem com os avanços da ciência e da tecnologia, especialmente na medicina e biologia.</p>
            </section>

            <section id="clonagem" class="fade-in-stagger opacity-0" style="animation-delay: 0.4s;">
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="ios-card rounded-3xl p-8 shadow-2xl">
                        <h3 class="text-2xl font-bold font-poppins text-white mb-4">O que é Clonagem?</h3>
                        <p class="text-gray-300 leading-relaxed font-lato">**Clonagem** refere-se à criação de uma cópia geneticamente idêntica de um ser vivo. Este processo pode ocorrer naturalmente, como em bactérias e plantas, ou ser induzido em laboratório, como a famosa Ovelha Dolly.</p>
                    </div>
                    <div class="ios-card rounded-3xl p-8 shadow-2xl">
                        <h3 class="text-2xl font-bold font-poppins text-white mb-4">Tipos de Clonagem</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-300 leading-relaxed font-lato">
                            <li><strong class="text-white">Clonagem Terapêutica:</strong> Criação de embriões para obtenção de células-tronco.</li>
                            <li><strong class="text-white">Clonagem Reprodutiva:</strong> Produção de um organismo completo.</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <section id="questoes-eticas" class="ios-card rounded-3xl p-8 shadow-2xl fade-in-stagger opacity-0" style="animation-delay: 0.6s;">
                <h2 class="text-3xl font-bold font-poppins text-white mb-4 drop-shadow-md">Questões Éticas e Filosóficas</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-gray-800 rounded-xl p-6 shadow-xl hover:bg-gray-700/50 transition-colors duration-200">
                        <h4 class="text-xl font-semibold font-poppins text-white mb-2">Dignidade Humana</h4>
                        <p class="text-gray-400 font-lato">A clonagem diminui o valor da vida humana?</p>
                    </div>
                    <div class="bg-gray-800 rounded-xl p-6 shadow-xl hover:bg-gray-700/50 transition-colors duration-200">
                        <h4 class="text-xl font-semibold font-poppins text-white mb-2">Identidade</h4>
                        <p class="text-gray-400 font-lato">A clonagem prejudica a unicidade de um indivíduo?</p>
                    </div>
                    <div class="bg-gray-800 rounded-xl p-6 shadow-xl hover:bg-gray-700/50 transition-colors duration-200">
                        <h4 class="text-xl font-semibold font-poppins text-white mb-2">Uso Indevido</h4>
                        <p class="text-gray-400 font-lato">Risco de clonagem para fins utilitários?</p>
                    </div>
                </div>
            </section>

            <section id="futuro" class="ios-card rounded-3xl p-8 shadow-2xl fade-in-stagger opacity-0" style="animation-delay: 0.8s;">
                <h2 class="text-3xl font-bold font-poppins text-white mb-4 drop-shadow-md">O Futuro da Bioética</h2>
                <p class="text-gray-300 leading-relaxed text-lg font-lato">Com o avanço da genética e da engenharia biológica, a **bioética** continua a ser um campo crucial para orientar a sociedade, garantindo que o progresso científico caminhe lado a lado com a responsabilidade ética.</p>
            </section>
        </main>
        
        <footer class="text-center text-gray-500 p-6 border-t border-gray-800/50 mt-24">
            <p>Desenvolvido com foco em estética e modernidade.</p>
        </footer>
    </div>
    
    <!-- MODAL DE SLIDES (NOVA VERSÃO COM IFRAME) -->
    <div id="slides-modal" class="fixed inset-0 z-[80] modal-hidden justify-center items-center bg-black/90 backdrop-blur-xl p-4 transition-opacity duration-300">
        <div class="ios-card rounded-3xl p-6 shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col">
            <div class="flex justify-between items-center pb-3 mb-4 border-b border-gray-700 flex-shrink-0">
                <h2 class="text-xl sm:text-2xl font-bold font-poppins text-white flex items-center gap-2">Apresentação de Slides</h2>
                <button onclick="closeSlidesModal()" class="text-gray-400 hover:text-white transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="w-6 h-6"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66a8,8,0,0,1,11.32-11.32L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>
                </button>
            </div>
            <div id="iframe-container" class="relative flex-grow bg-gray-900 rounded-2xl overflow-hidden">
                <div id="loading-spinner" class="absolute inset-0 flex flex-col justify-center items-center bg-gray-900/80 backdrop-blur-sm z-10">
                    <div class="spinner"></div>
                    <p class="mt-4 text-lg text-gray-300 font-poppins tracking-wider">Carregando...</p>
                </div>
                <div id="fallback-message" class="absolute inset-0 flex flex-col justify-center items-center p-8 text-center hidden">
                    <p class="text-lg font-semibold text-red-400 mb-4">Não foi possível carregar o slide.</p>
                    <p class="text-gray-300 mb-8 font-lato">Por favor, use o botão abaixo para abrir em uma nova aba.</p>
                    <a href="https://www.canva.com/design/DAG0i5NC_oo/A-V3masHTyCacF7CVq9h_w/view" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-pink-600 text-white font-bold text-lg hover:bg-pink-700 transition-colors duration-300 shadow-lg">Abrir em Nova Aba</a>
                </div>
                <iframe id="slide-iframe" class="w-full h-full border-0 hidden" src="about:blank" allowfullscreen="true" allow="fullscreen"></iframe>
            </div>
        </div>
    </div>
    
    <!-- QUIZ MODAL (MODO APRESENTAÇÃO E INTERATIVO) -->
    <div id="quiz-modal" class="fixed inset-0 z-[70] modal-hidden justify-center items-center bg-black/90 backdrop-blur-xl p-4 transition-opacity duration-300 overflow-y-auto">
        <div class="ios-card rounded-3xl p-8 shadow-2xl w-full max-w-4xl mx-auto my-auto min-h-[80vh] flex flex-col">
            <div class="flex justify-between items-center pb-4 border-b border-gray-700 mb-6 flex-shrink-0">
                <h2 id="quiz-main-title" class="text-3xl sm:text-4xl font-bold font-poppins bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-pink-500 drop-shadow-md">Quiz</h2>
                <button onclick="closeQuizModal()" class="text-gray-400 hover:text-white transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="w-8 h-8"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66a8,8,0,0,1,11.32-11.32L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>
                </button>
            </div>
            <div id="quiz-content-area" class="flex-grow overflow-hidden flex flex-col relative">
                <div id="mode-selection" class="quiz-view">
                    <p class="text-lg text-gray-300 font-lato mb-4">Escolha o formato do Quiz:</p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="selectMode('interactive')" class="ios-card sub-card flex-1 px-6 py-4 rounded-xl bg-purple-600/30 text-white font-bold text-xl hover:bg-purple-600/50 transition-colors duration-300">Quiz Interativo</button>
                        <button onclick="selectMode('presentation')" class="ios-card sub-card flex-1 px-6 py-4 rounded-xl bg-pink-600/30 text-white font-bold text-xl hover:bg-pink-600/50 transition-colors duration-300">Modo Apresentação</button>
                    </div>
                </div>
                <div id="topic-selection" class="quiz-view hidden">
                    <p class="text-lg text-gray-300 font-lato mb-4">Escolha o tópico:</p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="startQuiz('bioetica')" class="ios-card sub-card flex-1 px-6 py-4 rounded-xl bg-purple-600/30 text-white font-bold text-xl hover:bg-purple-600/50 transition-colors duration-300">Bioética</button>
                        <button onclick="startQuiz('clonagem')" class="ios-card sub-card flex-1 px-6 py-4 rounded-xl bg-pink-600/30 text-white font-bold text-xl hover:bg-pink-600/50 transition-colors duration-300">Clonagem</button>
                    </div>
                </div>
                <div id="quiz-display-area" class="quiz-view hidden flex-grow overflow-y-auto pr-4">
                    <div class="flex justify-between items-center mb-6 sticky top-0 bg-gray-950/80 backdrop-blur-sm py-2 z-10">
                        <h3 id="quiz-topic-title-display" class="text-2xl font-bold font-poppins text-white"></h3>
                        <button id="reveal-answers-button" onclick="revealAnswers()" class="px-4 py-2 rounded-full bg-green-600 text-white font-semibold hover:bg-green-700 transition-colors duration-300">Revelar Respostas</button>
                    </div>
                    <div id="questions-list" class="space-y-8"></div>
                </div>
                <div id="quiz-interactive-area" class="quiz-view hidden">
                    <h3 id="quiz-topic-title-interactive" class="text-2xl font-bold font-poppins text-white mb-6"></h3>
                    <div class="bg-gray-800 p-6 rounded-2xl shadow-inner mb-6">
                        <p id="question-text" class="text-xl font-semibold text-white mb-4"></p>
                    </div>
                    <div id="options-container" class="space-y-3"></div>
                    <div class="mt-8 pt-4 border-t border-gray-700">
                        <div id="feedback-message" class="text-lg font-bold min-h-[3rem] flex flex-col gap-2 items-start justify-center"></div>
                        <div class="flex justify-end mt-4">
                            <button id="next-button" onclick="nextQuestion()" class="px-6 py-3 rounded-full bg-gray-700 text-white font-semibold hover:bg-gray-600 transition-colors duration-300 opacity-50 cursor-not-allowed" disabled>Próxima Pergunta</button>
                        </div>
                    </div>
                </div>
                <div id="result-area" class="quiz-view hidden text-center p-8">
                    <h3 class="text-4xl font-extrabold font-poppins text-white mb-4">Resultado Final</h3>
                    <p id="result-score" class="text-6xl font-bold font-poppins bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-purple-400 mb-6"></p>
                    <p class="text-lg text-gray-300 font-lato mb-8">Parabéns por completar o quiz!</p>
                    <button onclick="resetQuiz()" class="px-6 py-3 rounded-full bg-pink-600 text-white font-semibold hover:bg-pink-700 transition-colors duration-300">Fazer Outro Quiz</button>
                </div>
            </div>
            <div class="pt-4 mt-auto flex-shrink-0">
                 <button id="quiz-back-button" onclick="goBack()" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white font-semibold hover:bg-gray-600 transition-colors duration-200 hidden">Voltar</button>
                 <button id="quiz-close-button" onclick="closeQuizModal()" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white font-semibold hover:bg-gray-600 transition-colors duration-200">Sair do Quiz</button>
            </div>
        </div>
    </div>
    
    <script type="module">
        // --- Estrutura de Dados do Quiz ---
        const quizQuestions = {
            bioetica: [
                {
                    q: "Qual dos seguintes conjuntos representa os quatro pilares do Principialismo na Bioética (o referencial mais comum para decisões médicas)?",
                    options: [
                        { text: "Dignidade, Liberdade, Igualdade, Fraternidade.", correct: false, reasoning: "Estes são princípios sociais, não os quatro pilares éticos centrais do Principialismo." },
                        { text: "Autonomia, Beneficência, Não Maleficência, Justiça.", correct: true, reasoning: "Estes são os quatro princípios fundamentais que guiam a tomada de decisão bioética em ambientes clínicos." },
                        { text: "Utilidade, Consentimento, Segredo, Competência.", correct: false, reasoning: "Estes são conceitos importantes, mas não constituem os quatro pilares básicos do Principialismo." }
                    ]
                },
                {
                    q: "Em relação à eutanásia em casos terminais, qual argumento é frequentemente invocado pela Bioética a favor da prática?",
                    options: [
                        { text: "O princípio da Beneficência, que exige a preservação da vida a qualquer custo.", correct: false, reasoning: "A beneficência busca o bem, mas a autonomia do paciente tem peso superior em decisões de fim de vida." },
                        { text: "O princípio da Não Maleficência, argumentando que a morte é sempre um dano.", correct: false, reasoning: "Embora importante, em casos de sofrimento extremo, a Não Maleficência pode ser interpretada como 'não prolongar o dano'." },
                        { text: "O princípio da Autonomia, que defende o direito do paciente de decidir sobre o fim de seu sofrimento.", correct: true, reasoning: "A autonomia é crucial. Defende o direito do paciente capaz de decidir sobre tratamentos e, em algumas jurisdições, sobre o fim da própria vida." }
                    ]
                },
                {
                    q: "Qual é o principal dilema ético na pesquisa com células-tronco embrionárias, de acordo com a Bioética?",
                    options: [
                        { text: "A dificuldade técnica de isolar as células.", correct: false, reasoning: "É um desafio prático, não um dilema ético." },
                        { text: "O uso e a destruição potencial de embriões humanos, que alguns consideram vida.", correct: true, reasoning: "O debate central é o estatuto moral do embrião humano e a sua potencial destruição para fins terapêuticos." },
                        { text: "A proibição de patentear as linhagens celulares resultantes.", correct: false, reasoning: "É uma questão legal e econômica, não o dilema ético principal." }
                    ]
                },
                {
                    q: "A manipulação genética de linhagem germinativa (alteração do DNA que pode ser herdada) levanta a preocupação ética de:",
                    options: [
                        { text: "Atrasar a descoberta de novos antibióticos.", correct: false, reasoning: "Não há relação direta entre a manipulação germinativa e a pesquisa de antibióticos." },
                        { text: "Abrir caminho para a eugenia e a criação de 'bebês sob encomenda' (designer babies).", correct: true, reasoning: "A preocupação é com a seleção de características e a transmissão dessas alterações para as futuras gerações." },
                        { text: "Violar o princípio da Beneficência ao curar doenças.", correct: false, reasoning: "Curar doenças seria uma forma de beneficência, o dilema está nos meios e nas implicações sociais." }
                    ]
                }
            ],
            clonagem: [
                {
                    q: "Qual a principal diferença de objetivo entre a Clonagem Terapêutica e a Clonagem Reprodutiva?",
                    options: [
                        { text: "A terapêutica usa embriões, a reprodutiva usa apenas células adultas.", correct: false, reasoning: "Ambas podem usar células adultas (SCNT), mas o objetivo é o que as diferencia." },
                        { text: "A terapêutica visa a criação de células/tecidos, a reprodutiva visa a criação de um organismo completo.", correct: true, reasoning: "Clonagem Terapêutica cria tecidos para tratamento; Reprodutiva cria um novo ser vivo completo." },
                        { text: "A terapêutica é legal em todos os países, a reprodutiva é ilegal em todos.", correct: false, reasoning: "A legalidade varia por país; o foco da diferença é o objetivo biológico." }
                    ]
                },
                {
                    q: "Qual é a implicação ética e social mais citada contra a permissão da clonagem de seres humanos?",
                    options: [
                        { text: "O alto consumo de energia dos equipamentos de laboratório.", correct: false, reasoning: "Esta é uma preocupação de custo, não a principal preocupação ética e social." },
                        { text: "A violação da unicidade e dignidade do ser humano clonado e a potencial instrumentalização da vida.", correct: true, reasoning: "O principal temor é a transformação da vida humana em um objeto 'fabricado' ou a perda de singularidade." },
                        { text: "A dificuldade de encontrar mães de aluguel dispostas a participar.", correct: false, reasoning: "Embora seja uma questão prática, não é a principal objeção ética." }
                    ]
                },
                {
                    q: "Um risco biológico chave associado à clonagem de animais é:",
                    options: [
                        { text: "A inabilidade do clone de se reproduzir.", correct: false, reasoning: "A fertilidade não é o principal risco biológico imediato." },
                        { text: "A alta taxa de insucesso gestacional e a baixa expectativa de vida dos clones resultantes.", correct: true, reasoning: "O SCNT (Transferência Nuclear de Células Somáticas) ainda resulta em altas taxas de anomalias, abortos e saúde frágil." },
                        { text: "A perda de pelos ou penas após o nascimento.", correct: false, reasoning: "Não é um risco biológico comum ou grave." }
                    ]
                },
                {
                    q: "A clonagem de órgãos humanos (como parte da Clonagem Terapêutica) para transplantes resolveria qual problema ético/prático do sistema atual?",
                    options: [
                        { text: "O custo elevado dos medicamentos pós-transplante.", correct: false, reasoning: "O custo não seria resolvido; a questão é biológica." },
                        { text: "A escassez de doadores compatíveis e a necessidade de imunossupressão.", correct: true, reasoning: "O órgão clonado seria geneticamente idêntico ao paciente, eliminando a rejeição e a necessidade de imunossupressores." },
                        { text: "O tempo de espera para a realização da cirurgia.", correct: false, reasoning: "O tempo de espera para o *crescimento* do órgão ainda seria um fator limitante." }
                    ]
                }
            ]
        };

        // --- Variáveis e Funções para o Modal de SLIDES ---
        const slidesModal = document.getElementById('slides-modal');
        const slideIframe = document.getElementById('slide-iframe');
        const loadingSpinner = document.getElementById('loading-spinner');
        const fallbackMessage = document.getElementById('fallback-message');
        const SLIDES_EMBED_URL = "https://www.canva.com/design/DAG0i5NC_oo/A-V3masHTyCacF7CVq9h_w/view?embed";

        window.openSlidesModal = () => {
            slidesModal.classList.remove('modal-hidden');
            slidesModal.classList.add('modal-visible');
            loadingSpinner.style.display = 'flex';
            slideIframe.style.display = 'none';
            fallbackMessage.style.display = 'none';
            slideIframe.src = 'about:blank';
            let iframeLoaded = false;
            slideIframe.onload = () => {
                iframeLoaded = true;
                loadingSpinner.style.display = 'none';
                slideIframe.style.display = 'block';
            };
            slideIframe.src = SLIDES_EMBED_URL;
            setTimeout(() => {
                if (!iframeLoaded) {
                    loadingSpinner.style.display = 'none';
                    fallbackMessage.style.display = 'flex';
                }
            }, 5000);
        };

        window.closeSlidesModal = () => {
            slideIframe.src = 'about:blank';
            slidesModal.classList.remove('modal-visible');
            slidesModal.classList.add('modal-hidden');
        };

        // --- Gerenciamento do Quiz ---
        const quizModal = document.getElementById('quiz-modal');
        const quizViews = document.querySelectorAll('.quiz-view');
        const quizBackButton = document.getElementById('quiz-back-button');
        const quizCloseButton = document.getElementById('quiz-close-button');
        
        let quizMode = '';
        let currentTopic = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;
        let quizState = 'mode';

        function updateQuizView() {
            quizViews.forEach(view => view.classList.add('hidden'));

            if (quizState === 'mode') {
                document.getElementById('mode-selection').classList.remove('hidden');
                quizBackButton.classList.add('hidden');
                quizCloseButton.classList.remove('hidden');
            } else if (quizState === 'topic') {
                document.getElementById('topic-selection').classList.remove('hidden');
                quizBackButton.classList.remove('hidden');
                quizCloseButton.classList.add('hidden');
            } else if (quizState === 'active') {
                quizBackButton.classList.remove('hidden');
                quizCloseButton.classList.add('hidden');
                if (quizMode === 'interactive') {
                    if (currentQuestionIndex < quizQuestions[currentTopic].length) {
                        document.getElementById('quiz-interactive-area').classList.remove('hidden');
                    } else {
                        document.getElementById('result-area').classList.remove('hidden');
                    }
                } else {
                    document.getElementById('quiz-display-area').classList.remove('hidden');
                }
            }
        }
        
        window.openQuizModal = () => { quizModal.classList.remove('modal-hidden'); quizModal.classList.add('modal-visible'); resetQuiz(); };
        window.closeQuizModal = () => { quizModal.classList.remove('modal-visible'); quizModal.classList.add('modal-hidden'); };
        window.selectMode = (mode) => { quizMode = mode; quizState = 'topic'; updateQuizView(); };
        window.startQuiz = (topic) => {
            currentTopic = topic;
            quizState = 'active';
            if (quizMode === 'interactive') { currentQuestionIndex = 0; score = 0; loadInteractiveQuestion(); } 
            else { loadPresentationQuiz(); }
            updateQuizView();
        };
        window.resetQuiz = () => { quizState = 'mode'; quizMode = ''; currentTopic = ''; updateQuizView(); };
        window.goBack = () => {
            if (quizState === 'active') { quizState = 'topic'; } 
            else if (quizState === 'topic') { quizState = 'mode'; }
            updateQuizView();
        };

        // --- Lógica do Modo Apresentação ---
        function loadPresentationQuiz() {
            const topicTitle = document.getElementById('quiz-topic-title-display');
            const list = document.getElementById('questions-list');
            const revealBtn = document.getElementById('reveal-answers-button');
            
            topicTitle.textContent = currentTopic === 'bioetica' ? 'Tópico: Bioética' : 'Tópico: Clonagem';
            list.innerHTML = '';
            revealBtn.style.display = 'block';

            quizQuestions[currentTopic].forEach((q, index) => {
                const qBlock = document.createElement('div');
                qBlock.className = 'bg-gray-800/50 p-6 rounded-2xl shadow-inner';
                qBlock.innerHTML = `<p class="text-xl font-semibold text-white mb-4"><span class="text-purple-400 font-bold">Q${index + 1}:</span> ${q.q}</p>
                    <div class="space-y-3">${q.options.map((opt, i) => `<div class="presentation-option p-3 rounded-lg border-2 border-gray-700 text-gray-300 font-lato" data-correct="${opt.correct}"><span class="font-bold text-lg text-pink-400">${String.fromCharCode(65 + i)})</span> ${opt.text}</div>`).join('')}</div>`;
                list.appendChild(qBlock);
            });
        }
        
        window.revealAnswers = () => {
            document.querySelectorAll('.presentation-option[data-correct="true"]').forEach(opt => {
                opt.classList.add('border-green-500/50', 'bg-green-500/10');
                opt.innerHTML += `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="w-5 h-5 text-green-400 ml-auto"><path d="M173.66,98.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L120,140.69l42.34-42.35A8,8,0,0,1,173.66,98.34Z"></path></svg>`;
            });
            document.getElementById('reveal-answers-button').style.display = 'none';
        };

        // --- Lógica do Quiz Interativo ---
        function loadInteractiveQuestion() {
            const questions = quizQuestions[currentTopic];
            if (currentQuestionIndex >= questions.length) { showResults(); return; }

            isAnswered = false;
            const nextButton = document.getElementById('next-button');
            nextButton.disabled = true;
            nextButton.classList.add('opacity-50', 'cursor-not-allowed');
            nextButton.classList.remove('bg-purple-600', 'hover:bg-purple-700');
            
            document.getElementById('feedback-message').innerHTML = '';
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            const currentQ = questions[currentQuestionIndex];
            document.getElementById('quiz-topic-title-interactive').textContent = `${currentTopic === 'bioetica' ? 'Bioética' : 'Clonagem'} - Pergunta ${currentQuestionIndex + 1}/${questions.length}`;
            document.getElementById('question-text').textContent = currentQ.q;

            currentQ.options.forEach((option, index) => {
                const optEl = document.createElement('div');
                optEl.className = 'quiz-option p-4 rounded-xl border-2 border-gray-700 text-gray-200 font-lato flex items-center gap-3';
                optEl.setAttribute('onclick', `checkAnswer(${index}, this)`);
                optEl.innerHTML = `<span class="font-bold text-lg text-purple-400">${String.fromCharCode(65 + index)})</span> ${option.text}`;
                optionsContainer.appendChild(optEl);
            });
        }
        
        window.checkAnswer = (selectedIndex, selectedElement) => {
            if (isAnswered) return;
            isAnswered = true;

            const questions = quizQuestions[currentTopic];
            const currentQ = questions[currentQuestionIndex];
            const selectedOption = currentQ.options[selectedIndex];
            const feedbackEl = document.getElementById('feedback-message');

            Array.from(document.getElementById('options-container').children).forEach((el, index) => {
                el.onclick = null; el.style.cursor = 'default';
                if (currentQ.options[index].correct) el.classList.add('correct');
            });

            if (selectedOption.correct) {
                score++;
                feedbackEl.innerHTML = `<div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="w-6 h-6 text-green-500"><path d="M173.66,98.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L120,140.69l42.34-42.35A8,8,0,0,1,173.66,98.34Z"></path></svg><span class="text-green-500 font-poppins">Resposta Correta!</span></div><p class="text-sm text-gray-300 font-lato mt-2"><span class="font-semibold text-green-400">Explicação:</span> ${selectedOption.reasoning}</p>`;
            } else {
                selectedElement.classList.add('incorrect');
                const correctOpt = currentQ.options.find(o => o.correct);
                feedbackEl.innerHTML = `<div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="w-6 h-6 text-red-500"><path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM176,176a8,8,0,0,1-11.31,0L128,141.31l-36.69,36.69a8,8,0,0,1-11.32-11.32L116.69,128,80,91.31A8,8,0,0,1,91.31,80L128,116.69,164.69,80a8,8,0,0,1,11.32,11.32L141.31,128l36.69,36.69A8,8,0,0,1,176,176Z"></path></svg><span class="text-red-500 font-poppins">Incorreto!</span></div><p class="text-sm text-gray-300 font-lato mt-2"><span class="font-semibold text-red-400">Motivo do Erro:</span> ${selectedOption.reasoning}</p><p class="text-sm text-gray-300 font-lato mt-1"><span class="font-semibold text-green-400">Explicação Correta:</span> ${correctOpt.reasoning}</p>`;
            }

            const nextButton = document.getElementById('next-button');
            nextButton.disabled = false;
            nextButton.classList.remove('opacity-50', 'cursor-not-allowed');
            nextButton.classList.add('bg-purple-600', 'hover:bg-purple-700');
        };
        
        window.nextQuestion = () => { currentQuestionIndex++; loadInteractiveQuestion(); };
        function showResults() {
            const total = quizQuestions[currentTopic].length;
            const percentage = Math.round((score / total) * 100);
            document.getElementById('result-score').textContent = `${score}/${total} (${percentage}%)`;
            updateQuizView();
        }

        // --- Funções de Inicialização e Animação 3D ---
        window.onload = function() {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('main-3d-canvas'), alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0);

            scene.add(new THREE.AmbientLight(0x404040, 2));
            const light = new THREE.DirectionalLight(0xffffff, 1.5);
            light.position.set(1, 1, 1);
            scene.add(light);

            const group = new THREE.Group();
            const mainMat = new THREE.MeshStandardMaterial({ color: 0x8A2BE2, emissive: 0x4B0082, roughness: 0.4, metalness: 0.6, transparent: true, opacity: 0.8 });
            const sphereGeom = new THREE.IcosahedronGeometry(2, 1);
            group.add(new THREE.Mesh(sphereGeom, mainMat));
            scene.add(group);
            camera.position.z = 5;

            let targetRotationX = 0, targetRotationY = 0;
            document.addEventListener('mousemove', (e) => {
                targetRotationY = (e.clientX / window.innerWidth) * 0.5;
                targetRotationX = (e.clientY / window.innerHeight) * 0.5;
            });
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            const animate = () => {
                requestAnimationFrame(animate);
                group.rotation.x += (targetRotationX - group.rotation.x) * 0.05;
                group.rotation.y += (targetRotationY - group.rotation.y) * 0.05;
                group.rotation.y += 0.001;
                renderer.render(scene, camera);
            };
            animate();
            
            window.toggleFullscreen = () => {
                if (!document.fullscreenElement) document.documentElement.requestFullscreen().catch(err => console.error(err));
                else document.exitFullscreen();
            };
            document.addEventListener('fullscreenchange', () => {
                const button = document.getElementById('fullscreen-button');
                if (button) button.textContent = document.fullscreenElement ? 'Sair da Tela Cheia' : 'Entrar em Tela Cheia';
            });
            
            const loadingScreen = document.getElementById('loading-screen');
            const mainContent = document.getElementById('main-content');
            const mainHeader = document.getElementById('main-header');
            
            const handleLoad = () => {
                document.removeEventListener('keydown', handleLoad);
                loadingScreen.removeEventListener('click', handleLoad);
                
                toggleFullscreen(); // Tenta entrar em tela cheia

                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    mainContent.style.opacity = '1';
                    mainContent.style.pointerEvents = 'auto';
                    mainHeader.classList.add('slide-down-anim');
                }, 1000);
            };
            loadingScreen.addEventListener('click', handleLoad);
            document.addEventListener('keydown', handleLoad);
        };
    </script>
</body>
</html>

